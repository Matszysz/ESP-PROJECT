# IoT Environmental & Location Tracker (ESP32 CYD)

## ğŸ“– Project Abstract
This project is an embedded IoT system designed to monitor geographical location and environmental parameters in real-time. Built on the **ESP32-2432S028 (Cheap Yellow Display)** platform, the device integrates satellite positioning (GPS) with cloud connectivity to visualize data both locally (on a touchscreen) and remotely via the **Google Firebase** cloud infrastructure.

The system serves as a prototype for mobile environmental monitoring stations, capable of tracking routes and mapping sensor data (e.g., PM2.5 levels) to specific coordinates.

## ğŸ—ï¸ System Architecture

The system consists of three main layers:
1.  **Hardware Layer (Edge Device):**
    * Collects NMEA data from GPS satellites.
    * Generates environmental data (Simulation Mode for Air Quality).
    * Renders a graphical user interface (GUI) using the LVGL library.
2.  **Communication Layer:**
    * Establishes a secure WiFi connection (WPA2).
    * Serializes data into JSON format.
3.  **Cloud Layer (Backend):**
    * **Google Firebase Realtime Database:** Stores telemetry data.
    * Provides an endpoint for external applications (maps, dashboards) to fetch live data.

### Data Flow Diagram
```mermaid
graph TD;
    Sat[GPS Satellites] -->|NMEA Signals| GPS[NEO-6M Module];
    GPS -->|UART Serial| ESP[ESP32 Core];
    Env[Environment Data] -->|Simulation| ESP;
    ESP -->|SPI Bus| LCD[TFT Display / GUI];
    ESP -->|WiFi / HTTPS| Cloud[Google Firebase DB];
â˜ï¸ Database & Cloud IntegrationThe project utilizes Google Firebase Realtime Database (NoSQL) for high-speed data synchronization.Database Type: JSON-based NoSQL.Security: Authenticated via API Key and User Auth Tokens (Anonymous Auth).Data Node: All telemetry is pushed to the /routes path.JSON Data StructureEach data point is stored with a unique timestamp-based ID generated by Firebase:JSON{
  "routes": {
    "-Ojd92Ks_exampleID": {
      "lat": 52.22967,      // Latitude (Decimal Degrees)
      "lng": 21.01222,      // Longitude (Decimal Degrees)
      "air": 42,            // Air Quality Index (PM2.5)
      "ts": 15200           // Device Runtime Timestamp (ms)
    },
    "-Ojd92Kt_nextEntry": {
      "lat": 52.22970,
      "lng": 21.01230,
      "air": 45,
      "ts": 20200
    }
  }
}
ğŸ–¥ï¸ Graphical User Interface (GUI)The device features a responsive touch interface built with LVGL 9 (Light and Versatile Graphics Library).Dashboard: Displays status of WiFi connection, Database sync, and GPS Fix.GPS Tab: Shows real-time Latitude, Longitude, and Satellite count.Air Quality Tab: Visualizes PM2.5 levels with color-coded status (Good/Moderate/Bad).System Tab: Project information and versioning.ğŸ”Œ Hardware SpecificationsMCU: ESP32-WROOM-32 (Dual Core, 240MHz, WiFi/BT)Display: 2.8" TFT LCD (ILI9341 Driver, 320x240 px)Touch Controller: XPT2046 (Resistive)GPS Module: GY-GPS6MV2 (u-blox NEO-6M)Power: 5V USB (with software-managed power profiling)Pinout ConfigurationComponentESP32 PinFunctionGPS TXGPIO 22RX (Data In)GPS RXGPIO 27TX (Data Out)Display CSGPIO 15Chip SelectTouch CSGPIO 33Chip SelectğŸš€ Installation & SetupThis project uses PlatformIO for dependency management and compilation.Clone the Repository:Download the source code to your local machine.Open in VS Code:Ensure the PlatformIO extension is installed.Connect Hardware:Connect the CYD board via USB. Ensure the GPS module is wired correctly (TX->GPIO22, RX->GPIO27).Flash Firmware:Click the "Upload" arrow in PlatformIO. The file system and libraries will be downloaded automatically.ğŸ›¡ï¸ LicenseEngineering Project - Group 2.Open Source for educational purposes.